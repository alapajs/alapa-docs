"use strict";(self.webpackChunkalapa_doc=self.webpackChunkalapa_doc||[]).push([[4547],{5275:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"security/login","title":"Authentication","description":"Alapa comes with a built-in authentication mechanism for web and API endpoints.","source":"@site/docs/security/login.mdx","sourceDirName":"security","slug":"/security/login","permalink":"/docs/security/login","draft":false,"unlisted":false,"editUrl":"https://github.com/alapajs/alapa-docs/tree/main/docs/security/login.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Containers","permalink":"/docs/template/containter"},"next":{"title":"Overview","permalink":"/docs/models/overview"}}');var r=t(4848),o=t(8453);const c={},i="Authentication",a={},d=[{value:"Auth.login",id:"authlogin",level:2},{value:"Auth.logout",id:"authlogout",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components},{CodeScreen:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("CodeScreen",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"authentication",children:"Authentication"})}),"\n",(0,r.jsx)(n.p,{children:"Alapa comes with a built-in authentication mechanism for web and API endpoints."}),"\n",(0,r.jsx)(n.p,{children:"Example Usage:"}),"\n",(0,r.jsx)(t,{title:"src/app/account/login.ts",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:'import { Auth } from "alapa";\r\n\r\nAuth.attempt("username", "password");\n'})})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"attempt"})," method returns an object containing ",(0,r.jsx)(n.code,{children:"success"}),", ",(0,r.jsx)(n.code,{children:"reason"}),", ",(0,r.jsx)(n.code,{children:"errorMessage"}),", and ",(0,r.jsx)(n.code,{children:"user"}),". It accepts an optional third argument called ",(0,r.jsx)(n.code,{children:"when"}),". The ",(0,r.jsx)(n.code,{children:"WhenCallback"}),", as the name suggests, is a list of functions that take ",(0,r.jsx)(n.code,{children:"user"})," as an argument and also return ",(0,r.jsx)(n.code,{children:"success"}),", ",(0,r.jsx)(n.code,{children:"reason"}),", ",(0,r.jsx)(n.code,{children:"errorMessage"}),", and ",(0,r.jsx)(n.code,{children:"user"}),". The ",(0,r.jsx)(n.code,{children:"attempt"})," method terminates if any of the functions return ",(0,r.jsx)(n.code,{children:"success"})," as ",(0,r.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"authlogin",children:"Auth.login"}),"\n",(0,r.jsx)(n.p,{children:"To log in a user, you can use:"}),"\n",(0,r.jsx)(t,{title:"src/app/account/login.ts",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:'import { Auth } from "alapa";\r\n\r\nAuth.login(req, res, user);\r\n// OR\r\nreq.login(user);\n'})})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"login"})," method returns an authentication result containing the ",(0,r.jsx)(n.code,{children:"user"}),", ",(0,r.jsx)(n.code,{children:"success"}),", ",(0,r.jsx)(n.code,{children:"message"}),", and the ",(0,r.jsx)(n.code,{children:"destination"})," (URL) to redirect the user to; the default is the dashboard."]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"login"})," method also has an optional parameter called ",(0,r.jsx)(n.code,{children:"rememberMe"}),", which is a boolean argument that indicates whether the login should remember the user. If ",(0,r.jsx)(n.code,{children:"rememberMe"})," is ",(0,r.jsx)(n.code,{children:"true"}),", the user ID, referred to as ",(0,r.jsx)(n.code,{children:"user"}),", and the encrypted token, called ",(0,r.jsx)(n.code,{children:"token"}),", will be saved to the cookie."]}),"\n",(0,r.jsx)(n.h2,{id:"authlogout",children:"Auth.logout"}),"\n",(0,r.jsx)(n.p,{children:"To log out a user, use:"}),"\n",(0,r.jsx)(t,{title:"src/app/account/login.ts",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:'import { Auth } from "alapa";\r\n\r\nAuth.logout();\n'})})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"logout"})," method will destroy the session of the current user."]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>i});var s=t(6540);const r={},o=s.createContext(r);function c(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);