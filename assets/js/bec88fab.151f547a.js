"use strict";(self.webpackChunkalapa_doc=self.webpackChunkalapa_doc||[]).push([[9566],{1783:(e,l,n)=>{n.r(l),n.d(l,{assets:()=>a,contentTitle:()=>t,default:()=>u,frontMatter:()=>d,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"models/field-controls-and-data-operations/fillable-guards-fields","title":"Fillable and Guarded Fields","description":"Alapa provides robust mechanisms for managing mass assignment through fillable and guarded fields.","source":"@site/docs/models/field-controls-and-data-operations/fillable-guards-fields.mdx","sourceDirName":"models/field-controls-and-data-operations","slug":"/models/field-controls-and-data-operations/fillable-guards-fields","permalink":"/docs/models/field-controls-and-data-operations/fillable-guards-fields","draft":false,"unlisted":false,"editUrl":"https://github.com/alapajs/alapa-docs/tree/main/docs/models/field-controls-and-data-operations/fillable-guards-fields.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Fillable and Guarded Fields"},"sidebar":"tutorialSidebar","previous":{"title":"Find Options","permalink":"/docs/models/find-options"},"next":{"title":"Create and Fill","permalink":"/docs/models/field-controls-and-data-operations/create-and-fill"}}');var r=n(4848),s=n(8453);const d={sidebar_position:1,title:"Fillable and Guarded Fields"},t="Fillable and Guarded Fields",a={},o=[{value:"Important Security Note",id:"important-security-note",level:2},{value:"Flexible Ways to Define Fillable Fields",id:"flexible-ways-to-define-fillable-fields",level:2},{value:"Static Declaration with <code>fillableFields</code>",id:"static-declaration-with-fillablefields",level:2},{value:"Implementing Mass Assignment",id:"implementing-mass-assignment",level:2},{value:"Property-Level Declaration with <code>@FillableField()</code>",id:"property-level-declaration-with-fillablefield",level:2},{value:"Dynamic Configuration with <code>setFillableFields()</code>",id:"dynamic-configuration-with-setfillablefields",level:2},{value:"Conditional Field Assignment",id:"conditional-field-assignment",level:2},{value:"Business Logic-Based Fillable Fields",id:"business-logic-based-fillable-fields",level:3},{value:"Decorator-Based Conditions",id:"decorator-based-conditions",level:3},{value:"Field Management Utilities",id:"field-management-utilities",level:2},{value:"<code>Model.updateFillableFields()</code>",id:"modelupdatefillablefields",level:3},{value:"<code>Model.getFillableFields()</code>",id:"modelgetfillablefields",level:3},{value:"Guarded Fields Configuration",id:"guarded-fields-configuration",level:2},{value:"1. Static Declaration with <code>guardedFields</code>",id:"1-static-declaration-with-guardedfields",level:3},{value:"2. Property-Level Declaration with <code>@GuardedField()</code>",id:"2-property-level-declaration-with-guardedfield",level:3},{value:"3. Dynamic Configuration with <code>setGuardedFields()</code>",id:"3-dynamic-configuration-with-setguardedfields",level:3},{value:"4. Conditional Guarded Fields",id:"4-conditional-guarded-fields",level:3},{value:"Guarded Field Management Utilities",id:"guarded-field-management-utilities",level:2},{value:"Model.updateGuardedFields;",id:"modelupdateguardedfields",level:3},{value:"Model.getGuardedFields",id:"modelgetguardedfields",level:3},{value:"Unified Field Resolution &amp; Best Practices",id:"unified-field-resolution--best-practices",level:2},{value:"Recommended Best Practices",id:"recommended-best-practices",level:3}];function c(e){const l={admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components},{CodeScreen:n}=l;return n||function(e,l){throw new Error("Expected "+(l?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("CodeScreen",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.header,{children:(0,r.jsx)(l.h1,{id:"fillable-and-guarded-fields",children:"Fillable and Guarded Fields"})}),"\n",(0,r.jsxs)(l.p,{children:["Alapa provides robust mechanisms for managing mass assignment through ",(0,r.jsx)(l.code,{children:"fillable"})," and ",(0,r.jsx)(l.code,{children:"guarded"})," fields.",(0,r.jsx)(l.br,{}),"\n","These features help prevent security vulnerabilities while maintaining flexibility in your data operations."]}),"\n",(0,r.jsx)(l.h2,{id:"important-security-note",children:"Important Security Note"}),"\n",(0,r.jsxs)(l.p,{children:["By default, Alapa silently discards attributes that aren't in fillable fields during mass assignment.",(0,r.jsx)(l.br,{}),"\n","This can lead to confusion in development, as it may appear that certain fields aren't updating. To surface these issues:"]}),"\n",(0,r.jsx)(n,{title:"src/config/database.ts",children:(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-typescript",children:'import { ENV } from "alapa";\r\nexport const database: DatabaseConfiguration = {\r\n  preventSilentlyDiscardingAttributes: ENV == "development",\r\n};\n'})})}),"\n",(0,r.jsx)(l.p,{children:"This setting makes the system throw errors in development when attempting to assign non-fillable fields, helping you catch configuration mistakes early."}),"\n",(0,r.jsx)(l.admonition,{title:"Recommendation",type:"tip",children:(0,r.jsxs)(l.p,{children:["Enable ",(0,r.jsx)(l.code,{children:"preventSilentlyDiscardingAttributes"})," in development to catch assignment issues early, but keep it disabled in production for security."]})}),"\n",(0,r.jsx)(l.h2,{id:"flexible-ways-to-define-fillable-fields",children:"Flexible Ways to Define Fillable Fields"}),"\n",(0,r.jsx)(l.p,{children:"Alapa offers multiple declarative patterns for defining fillable fields:"}),"\n",(0,r.jsxs)(l.ol,{children:["\n",(0,r.jsxs)(l.li,{children:[(0,r.jsx)(l.code,{children:"fillableFields"})," property (static declaration)"]}),"\n",(0,r.jsxs)(l.li,{children:[(0,r.jsx)(l.code,{children:"@FillableField()"})," decorator (property-level)"]}),"\n",(0,r.jsxs)(l.li,{children:[(0,r.jsx)(l.code,{children:"setFillableFields()"})," method (dynamic declaration)"]}),"\n"]}),"\n",(0,r.jsx)(l.p,{children:"These approaches can be used independently or combined\u2014Alapa automatically merges all definitions while eliminating duplicates."}),"\n",(0,r.jsx)(l.hr,{}),"\n",(0,r.jsxs)(l.h2,{id:"static-declaration-with-fillablefields",children:["Static Declaration with ",(0,r.jsx)(l.code,{children:"fillableFields"})]}),"\n",(0,r.jsxs)(l.p,{children:["The ",(0,r.jsx)(l.code,{children:"fillableFields"})," property provides a straightforward way to declare mass-assignable attributes:"]}),"\n",(0,r.jsx)(n,{title:"src/app/models/user.ts",children:(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-typescript",children:'import { Model, ModelFillableFields, TableModel, Column } from "alapa";\r\n\r\n@TableModel()\r\nexport class Users extends Model {\r\n  @Column()\r\n  firstName: string;\r\n\r\n  @Column()\r\n  lastName: string;\r\n\r\n  // highlight-start\r\n  protected fillableFields: ModelFillableFields<Users>[] = [\r\n    "firstName",\r\n    "lastName",\r\n  ];\r\n  //protected fillableFields: ModelFillableFields<Users>[] = ["*"];\r\n  //highlight-end\r\n}\n'})})}),"\n",(0,r.jsx)(l.admonition,{title:"Security Note",type:"caution",children:(0,r.jsxs)(l.p,{children:["Using ",(0,r.jsx)(l.code,{children:'"*"'})," to make all fields fillable is strongly discouraged, as it may expose your model to mass assignment vulnerabilities."]})}),"\n",(0,r.jsx)(l.h2,{id:"implementing-mass-assignment",children:"Implementing Mass Assignment"}),"\n",(0,r.jsxs)(l.p,{children:["After defining fillable fields, use the ",(0,r.jsx)(l.code,{children:"Model.fill()"})," or ",(0,r.jsx)(l.code,{children:"Model.create()"})," method for safe population:"]}),"\n",(0,r.jsx)(n,{title:"src/app/users/router.ts",children:(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-typescript",children:'import { Router, Request, Response } from "alapa";\r\nimport { Users } from "../models/user";\r\n\r\nconst userRoutes = new Router();\r\n\r\nuserRoutes.get("/", async (req: Request, res: Response) => {\r\n  const user = new Users();\r\n  user.fill({\r\n    firstName: "John",\r\n    lastName: "Doe",\r\n  });\r\n\r\n  if (user.isDirty()) {\r\n    await user.save();\r\n  }\r\n});\n'})})}),"\n",(0,r.jsxs)(l.h2,{id:"property-level-declaration-with-fillablefield",children:["Property-Level Declaration with ",(0,r.jsx)(l.code,{children:"@FillableField()"})]}),"\n",(0,r.jsx)(l.p,{children:"For more granular control, decorate individual properties:"}),"\n",(0,r.jsx)(n,{title:"src/app/models/user.ts",children:(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-typescript",children:'import { Model, Column, TableModel, FillableField } from "alapa";\r\n\r\n@TableModel()\r\nexport class Users extends Model {\r\n  //highlight-next-line\r\n  @FillableField()\r\n  @Column()\r\n  firstName: string;\r\n\r\n  //highlight-next-line\r\n  @FillableField()\r\n  @Column()\r\n  lastName: string;\r\n\r\n  @Column()\r\n  balance: number;\r\n\r\n  @Column()\r\n  isActive: boolean;\r\n}\n'})})}),"\n",(0,r.jsx)(l.hr,{}),"\n",(0,r.jsxs)(l.h2,{id:"dynamic-configuration-with-setfillablefields",children:["Dynamic Configuration with ",(0,r.jsx)(l.code,{children:"setFillableFields()"})]}),"\n",(0,r.jsx)(l.p,{children:"When you need to define fillable fields based on complex logic, overriding\r\nthe setFillableFields() method is recommended. This approach gives you full\r\nflexibility to compute fields dynamically."}),"\n",(0,r.jsx)(n,{title:"src/app/models/user.ts",children:(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-typescript",children:'import { Model, Column, TableModel, ModelFillableFields } from "alapa";\r\n\r\n@TableModel()\r\nexport class Users extends Model {\r\n  @Column()\r\n  firstName: string;\r\n\r\n  @Column()\r\n  lastName: string;\r\n\r\n  //highlight-start\r\n  protected setFillableFields(): ModelFillableFields<Users>[] {\r\n    return ["firstName", "lastName"];\r\n  }\r\n  //highlight-end\r\n}\n'})})}),"\n",(0,r.jsx)(l.hr,{}),"\n",(0,r.jsx)(l.h2,{id:"conditional-field-assignment",children:"Conditional Field Assignment"}),"\n",(0,r.jsx)(l.h3,{id:"business-logic-based-fillable-fields",children:"Business Logic-Based Fillable Fields"}),"\n",(0,r.jsx)(n,{title:"src/app/models/user.ts",children:(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-typescript",children:'import { Model, Column, TableModel, ModelFillableFields } from "alapa";\r\n\r\n@TableModel()\r\nexport class Users extends Model {\r\n  @Column()\r\n  firstName: string;\r\n\r\n  @Column()\r\n  lastName: string;\r\n\r\n  @Column()\r\n  balance: number;\r\n\r\n  protected fillableFields: ModelFillableFields<Users>[] = [\r\n    "firstName",\r\n    "lastName",\r\n    //highlight-next-line\r\n    { balance: (user: Users) => loginUser.role === "admin" },\r\n  ];\r\n}\n'})})}),"\n",(0,r.jsx)(l.h3,{id:"decorator-based-conditions",children:"Decorator-Based Conditions"}),"\n",(0,r.jsx)(n,{title:"src/app/models/user.ts",children:(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-typescript",children:'import { Model, Column, TableModel, FillableField } from "alapa";\r\n\r\n@TableModel()\r\nexport class Users extends Model {\r\n  //highlight-next-line\r\n  @FillableField((user: Users) => loginUser.role === "admin")\r\n  @Column()\r\n  balance: number;\r\n}\n'})})}),"\n",(0,r.jsxs)(l.admonition,{type:"note",children:[(0,r.jsx)(l.mdxAdmonitionTitle,{children:(0,r.jsx)(l.strong,{children:"Note"})}),(0,r.jsxs)(l.p,{children:[(0,r.jsx)(l.code,{children:"loginUser"})," should reference your application's current authentication context."]})]}),"\n",(0,r.jsx)(l.hr,{}),"\n",(0,r.jsx)(l.h2,{id:"field-management-utilities",children:"Field Management Utilities"}),"\n",(0,r.jsx)(l.h3,{id:"modelupdatefillablefields",children:(0,r.jsx)(l.code,{children:"Model.updateFillableFields()"})}),"\n",(0,r.jsx)(l.p,{children:"Dynamically modify fillable fields at runtime:"}),"\n",(0,r.jsx)(n,{title:"src/app/users/router.ts",children:(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-typescript",children:'import { Router, Request, Response } from "alapa";\r\nimport { Users } from "../models/user";\r\n\r\nconst userRoutes = new Router();\r\n\r\nuserRoutes.get("/", async (req: Request, res: Response) => {\r\n  const user = new Users();\r\n  //highlight-next-line\r\n  user.updateFillableFields(["firstName", "lastName"], true);\r\n});\r\n\r\nexport default userRoutes;\n'})})}),"\n",(0,r.jsxs)(l.table,{children:[(0,r.jsx)(l.thead,{children:(0,r.jsxs)(l.tr,{children:[(0,r.jsx)(l.th,{children:"Parameter"}),(0,r.jsx)(l.th,{children:"Type"}),(0,r.jsx)(l.th,{children:"Description"})]})}),(0,r.jsxs)(l.tbody,{children:[(0,r.jsxs)(l.tr,{children:[(0,r.jsx)(l.td,{children:(0,r.jsx)(l.code,{children:"fields"})}),(0,r.jsx)(l.td,{children:(0,r.jsx)(l.code,{children:"ModelFillableFieldsMethod<Users>[]"})}),(0,r.jsx)(l.td,{children:"Fields to add/update"})]}),(0,r.jsxs)(l.tr,{children:[(0,r.jsx)(l.td,{children:(0,r.jsx)(l.code,{children:"override"})}),(0,r.jsx)(l.td,{children:(0,r.jsx)(l.code,{children:"boolean"})}),(0,r.jsx)(l.td,{children:"When true, replaces all existing definitions"})]})]})]}),"\n",(0,r.jsx)(l.h3,{id:"modelgetfillablefields",children:(0,r.jsx)(l.code,{children:"Model.getFillableFields()"})}),"\n",(0,r.jsx)(l.p,{children:"Retrieve current fillable field definitions:"}),"\n",(0,r.jsx)(n,{title:"src/app/users/router.ts",children:(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-typescript",children:'import { Router, Request, Response } from "alapa";\r\nimport { Users } from "../models/user";\r\n\r\nconst userRoutes = new Router();\r\n\r\nuserRoutes.get("/", async (req: Request, res: Response) => {\r\n  const user = new Users();\r\n  //highlight-next-line\r\n  const fillableFields = user.getFillableFields();\r\n  console.log(fillableFields); // [firstName, lastName]\r\n});\r\n\r\nexport default userRoutes;\n'})})}),"\n",(0,r.jsx)(l.hr,{}),"\n",(0,r.jsx)(l.h2,{id:"guarded-fields-configuration",children:"Guarded Fields Configuration"}),"\n",(0,r.jsxs)(l.p,{children:["Guarded fields take the opposite approach of fillable fields, specifying which attributes ",(0,r.jsx)(l.strong,{children:"cannot"})," be mass-assigned."]}),"\n",(0,r.jsx)(l.p,{children:"Key characteristics:"}),"\n",(0,r.jsxs)(l.ul,{children:["\n",(0,r.jsxs)(l.li,{children:["No wildcard (",(0,r.jsx)(l.code,{children:"*"}),") support"]}),"\n",(0,r.jsx)(l.li,{children:"Useful when you have just a few sensitive fields to protect"}),"\n"]}),"\n",(0,r.jsxs)(l.h3,{id:"1-static-declaration-with-guardedfields",children:["1. Static Declaration with ",(0,r.jsx)(l.code,{children:"guardedFields"})]}),"\n",(0,r.jsx)(n,{title:"src/app/models/user.ts",children:(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-typescript",children:'import { Model, ModelGuardedFields, TableModel, Column } from "alapa";\r\n\r\n@TableModel()\r\nexport class Users extends Model {\r\n  @Column()\r\n  firstName: string;\r\n\r\n  @Column()\r\n  lastName: string;\r\n\r\n  @Column()\r\n  publicKey: number;\r\n\r\n  @Column()\r\n  secretKey: string;\r\n\r\n  //highlight-start\r\n  protected guardedFields: ModelGuardedFields<Users>[] = [\r\n    "publicKey",\r\n    "secretKey",\r\n  ];\r\n  //highlight-end\r\n}\n'})})}),"\n",(0,r.jsxs)(l.h3,{id:"2-property-level-declaration-with-guardedfield",children:["2. Property-Level Declaration with ",(0,r.jsx)(l.code,{children:"@GuardedField()"})]}),"\n",(0,r.jsx)(n,{title:"src/app/models/user.ts",children:(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-typescript",children:'import { Model, GuardedField, TableModel, Column } from "alapa";\r\n\r\n@TableModel()\r\nexport class Users extends Model {\r\n  @Column()\r\n  firstName: string;\r\n\r\n  @Column()\r\n  lastName: string;\r\n\r\n  //highlight-next-line\r\n  @GuardedField()\r\n  @Column()\r\n  apiToken: string;\r\n}\n'})})}),"\n",(0,r.jsxs)(l.h3,{id:"3-dynamic-configuration-with-setguardedfields",children:["3. Dynamic Configuration with ",(0,r.jsx)(l.code,{children:"setGuardedFields()"})]}),"\n",(0,r.jsx)(n,{title:"src/app/models/user.ts",children:(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-typescript",children:'import { Model, ModelGuardedFields, TableModel, Column } from "alapa";\r\n\r\n@TableModel()\r\nexport class Users extends Model {\r\n  @Column()\r\n  firstName: string;\r\n\r\n  @Column()\r\n  lastName: string;\r\n\r\n  @Column()\r\n  apiToken: string;\r\n\r\n  @Column()\r\n  passwordResetToken: string;\r\n\r\n  //highlight-start\r\n  protected setGuardedFields(): ModelGuardedFields<Users>[] {\r\n    return ["apiToken", "passwordResetToken"];\r\n  }\r\n  //highlight-end\r\n}\n'})})}),"\n",(0,r.jsx)(l.h3,{id:"4-conditional-guarded-fields",children:"4. Conditional Guarded Fields"}),"\n",(0,r.jsx)(n,{title:"src/app/models/user.ts",children:(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-typescript",children:'import { Model, ModelGuardedFields, TableModel, Column } from "alapa";\r\n\r\n@TableModel()\r\nexport class Users extends Model {\r\n  @Column()\r\n  firstName: string;\r\n\r\n  @Column()\r\n  lastName: string;\r\n\r\n  @Column()\r\n  ssn: number;\r\n\r\n  //highlight-start\r\n  protected guardedFields: ModelGuardedFields<Users>[] = [\r\n    { ssn: (user) => !user.hasFinancialAccess() },\r\n  ];\r\n  //highlight-end\r\n}\n'})})}),"\n",(0,r.jsx)(l.hr,{}),"\n",(0,r.jsx)(l.h2,{id:"guarded-field-management-utilities",children:"Guarded Field Management Utilities"}),"\n",(0,r.jsx)(l.h3,{id:"modelupdateguardedfields",children:"Model.updateGuardedFields;"}),"\n",(0,r.jsx)(n,{title:"src/app/users/router.ts",children:(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-typescript",children:'import { Router, Request, Response } from "alapa";\r\nimport { Users } from "../models/user";\r\n\r\nconst userRoutes = new Router();\r\n\r\nuserRoutes.get("/", async (req: Request, res: Response) => {\r\n  const user = new Users();\r\n  //highlight-next-line\r\n  user.updateGuardedFields(["passwordResetToken"], true);\r\n});\r\n\r\nexport default userRoutes;\n'})})}),"\n",(0,r.jsx)(l.h3,{id:"modelgetguardedfields",children:"Model.getGuardedFields"}),"\n",(0,r.jsx)(n,{title:"src/app/users/router.ts",children:(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-typescript",children:'import { Router, Request, Response } from "alapa";\r\nimport { Users } from "../models/user";\r\n\r\nconst userRoutes = new Router();\r\n\r\nuserRoutes.get("/", async (req: Request, res: Response) => {\r\n  const user = new Users();\r\n  //highlight-next-line\r\n  const guardedFields = user.getGuardedFields();\r\n  console.log(guardedFields); // [passwordResetToken]\r\n});\r\n\r\nexport default userRoutes;\n'})})}),"\n",(0,r.jsx)(l.hr,{}),"\n",(0,r.jsx)(l.admonition,{title:"Priority Rule",type:"tip",children:(0,r.jsxs)(l.p,{children:["When both ",(0,r.jsx)(l.code,{children:"fillable"})," and ",(0,r.jsx)(l.code,{children:"guarded"})," fields are defined, the ",(0,r.jsxs)(l.strong,{children:[(0,r.jsx)(l.code,{children:"fillable"}),"\r\nconfiguration always takes the highest priority"]}),", and the ",(0,r.jsx)(l.code,{children:"guarded"})," declaration will be ignored."]})}),"\n",(0,r.jsx)(l.hr,{}),"\n",(0,r.jsx)(l.h2,{id:"unified-field-resolution--best-practices",children:"Unified Field Resolution & Best Practices"}),"\n",(0,r.jsx)(l.p,{children:"Alapa intelligently merges all field definitions with the following rules:"}),"\n",(0,r.jsxs)(l.ul,{children:["\n",(0,r.jsxs)(l.li,{children:["Definitions from ",(0,r.jsx)(l.code,{children:"fillableFields"}),", ",(0,r.jsx)(l.code,{children:"@FillableField()"}),", and ",(0,r.jsx)(l.code,{children:"setFillableFields()"})," are combined."]}),"\n",(0,r.jsx)(l.li,{children:"Guarded fields from all sources are merged similarly."}),"\n",(0,r.jsxs)(l.li,{children:[(0,r.jsx)(l.strong,{children:"Fillable fields override guarded fields"})," in case of conflict."]}),"\n"]}),"\n",(0,r.jsx)(l.h3,{id:"recommended-best-practices",children:"Recommended Best Practices"}),"\n",(0,r.jsxs)(l.ul,{children:["\n",(0,r.jsxs)(l.li,{children:["\u2705 Prefer ",(0,r.jsx)(l.code,{children:"fillable"})," fields in most cases"]}),"\n",(0,r.jsxs)(l.li,{children:["\ud83d\udee1\ufe0f Use ",(0,r.jsx)(l.code,{children:"guarded"})," when you few sensitive fields to protect"]}),"\n",(0,r.jsx)(l.li,{children:"\ud83d\udeab Never define both on the same model"}),"\n",(0,r.jsxs)(l.li,{children:["\ud83e\uddea Enable ",(0,r.jsx)(l.code,{children:"preventSilentlyDiscardingAttributes"})," in development"]}),"\n",(0,r.jsx)(l.li,{children:"\ud83d\udd0d Regularly audit field-level security"}),"\n"]}),"\n",(0,r.jsx)(l.p,{children:"By properly implementing these patterns, you ensure secure handling of model data while maintaining the flexibility needed for complex business requirements."})]})}function u(e={}){const{wrapper:l}={...(0,s.R)(),...e.components};return l?(0,r.jsx)(l,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,l,n)=>{n.d(l,{R:()=>d,x:()=>t});var i=n(6540);const r={},s=i.createContext(r);function d(e){const l=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(l):{...l,...e}}),[l,e])}function t(e){let l;return l=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(s.Provider,{value:l},e.children)}}}]);